<section *ngIf="cartData" class="w-75 mx-auto rounded shadow p-3 bg-main-light">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h1>Shop Cart</h1>
      <p class="text-main">total Price: {{ cartData.totalCartPrice }}</p>
    </div>

    <button class="btn btn-outline-danger btn-sm" (click)="clearAllItems()">
      Clear All Item
    </button>
  </div>
  <div
    class="row py-3 border-1 border-bottom align-items-center"
    *ngFor="let item of cartData.products"
  >
    <div class="col-md-1">
      <img
        class="w-100"
        [src]="item.product.imageCover"
        [alt]="item.product.title"
      />
    </div>
    <div class="col-md-11 d-flex justify-content-between align-items-center">
      <div class="w-75">
        <h3 class="m-0 h6">{{ item.product.title }}</h3>
        <p class="text-main mb-1">Price: {{ item.price }}</p>
        <span
          class="h6"
          role="button"
          (click)="removeCartItem(item.product._id)"
          ><i class="fas fa-trash-can text-main"></i> Remove</span
        >
      </div>
      <div>
        <button
          class="btn border-success btn-sm"
          (click)="changeCount(item.count + 1, item.product._id)"
        >
          +
        </button>
        <span> {{ item.count }} </span>
        <button
          class="btn border-success btn-sm"
          (click)="changeCount(item.count - 1, item.product._id)"
        >
          -
        </button>
      </div>
    </div>
  </div>
  <button class="main-btn mt-3" [routerLink]="['/payment', cartData._id]">
    Online Payment <img src="./assets/images/visa-1.svg" alt="visa-1" />
  </button>
</section>

<section>
  <h1
    *ngIf="cartData == null"
    class="text-center p-5 mt-5 rounded shadow bg-main-light w-75 mx-auto"
  >
    your Cart is empty...
  </h1>
</section>

<section class="w-50 mx-auto bg-main-light rounded shadow p-3 mt-4 mb-0">
  <button routerLink="/allorders" class="w-100 main-btn">My Orders</button>
</section>
